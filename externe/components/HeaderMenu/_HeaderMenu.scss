@use 'sass:map';
@use 'sass:color';

.menu {
    --animation-speed: 0s;

    &__list {
        display: flex;
        flex-flow: row wrap;
    }
    &__link {
        position: relative;
        transition: color .5s ease-in-out;

        &::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 0.5px;
            transition: .5s ease-in-out;
            transition-property: width, left, background-color;           
            background-color: map.get($BASE, main_color);
        }

        @media (any-hover: hover) {
            &:hover {
                color: color.scale(map.get($BASE, main_color), $lightness: 100%);
                &::after {
                    left: 0;
                    width: 100%;
                    color: color.scale(map.get($BASE, main_color), $lightness: 100%);
                }
            }
        }
    }
    &.active {
       &::before {
        content: "";
            background: rgba(0,0,0, .85);
            width: 100dvw;
            height: 100dvh;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
       }
       .menu__body {
            transform: translate3d(0,0,0);
       }
    }

    &.is-animating {
        --animation-speed: .6s;
    }

    @include media(tablet, max) {
        flex: 1;
        
        &__body {
            position: absolute;
            top: 100%;
            right: 0;
            z-index: 1;
            transform: translate3d(100dvw,0,0);
            transition: transform var(--animation-speed) ease-in-out;
            will-change: transform;
        }
        &__list {
            flex-direction: column;
            align-items: flex-end;
        }
    }
} 